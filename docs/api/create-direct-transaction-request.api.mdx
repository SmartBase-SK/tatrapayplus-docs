---
id: create-direct-transaction-request
title: "Create direct transaction request"
description: "After obtaining the token from the Google Pay API or Apple Pay API, you need to send the token along with other payment details to the TatraPayPlus API."
sidebar_label: "Create direct transaction request"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/tatrapayplus-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create direct transaction request"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/payments-direct"}
  context={"endpoint"}
>
  
</MethodEndpoint>



After obtaining the token from the Google Pay API or Apple Pay API, you need to send the token along with other payment details to the TatraPayPlus API.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"X-Request-ID","in":"header","description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}},{"name":"IP-Address","in":"header","description":"The forwarded IP address of the user\n","schema":{"type":"string","format":"ipv4"},"required":true,"example":"192.168.8.78"},{"name":"Redirect-URI","in":"header","description":"URI of the client application endpoint, where the user shall be redirected to after payment process. URI has to be registered in Developer portal\n","schema":{"type":"string","format":"uri"},"required":true}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"DirectAPI transaction","required":true,"content":{"application/json":{"schema":{"description":"Body for direct transaction initiation","type":"object","required":["amount","endToEnd","tdsData","token"],"properties":{"amount":{"type":"object","required":["amountValue","currency"],"properties":{"amountValue":{"description":"The amount given with fractional digits, where fractions must be compliant to the currency definition. Negative amounts are signed by minus.\nThe decimal separator is a dot.\n\n**Example:**\nValid representations for EUR with up to two decimals are:\n\n  * 1056\n  * 5768.2\n  * -1.50\n  * 5877.78\n","type":"number","example":120,"pattern":"-?[0-9]{1,9}(\\.[0-9]{1,2})?","title":"amountValue"},"currency":{"description":"ISO 4217 Alpha 3 currency code.\n","type":"string","pattern":"[A-Z]{3}","example":"EUR","title":"currencyCode"}},"title":"amount"},"endToEnd":{"description":"EndToEndId or paymentSymbols","oneOf":[{"type":"object","required":["variableSymbol"],"properties":{"variableSymbol":{"type":"string","pattern":"^[0-9]{1,10}$","example":123456,"title":"variableSymbol"},"specificSymbol":{"type":"string","pattern":"^[0-9]{1,10}$","title":"specificSymbol"},"constantSymbol":{"type":"string","description":"In case of payment method CardPay will be automatically rewrite to value 0608","pattern":"^[0-9]{1,4}$","title":"constantSymbol"}},"title":"paymentSymbols"},{"description":"Max 35 alphanumeric characters\n","pattern":"^[0-9a-zA-Z\\/\\. -]{1,35}$","type":"string","minLength":1,"maxLength":35,"title":"endToEndId"}],"title":"e2e"},"isPreAuthorization":{"description":"If true - pre-authorization transaction","type":"boolean"},"tdsData":{"type":"object","description":"In case of Direct API either cardHolder or email is mandatory","properties":{"cardHolder":{"description":"The card holder name. In case of Direct API either cardHolder or email is mandatory","type":"string","pattern":"^[ 0-9a-zA-Z.@_-]{2,45}$","maxLength":45,"minLength":2,"title":"cardHolder"},"email":{"description":"Conditionally mandatory. In case of TatraPayPlus payment initiation - It is mandatory only if the phone attribute is not provided. If the email is not provided, the user will not receive the cardPay notification and payLater will ask for the email in the app.\nIn case of Direct API either cardHolder or email is mandatory","type":"string","maxLength":50,"format":"email","title":"email"},"phone":{"description":"Conditionally mandatory.  In case of TatraPayPlus payment initiation - It is mandatory only if the email attribute is not provided.","type":"string","pattern":"\\+(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{1,14}$","title":"phone"},"billingAddress":{"type":"object","required":["country"],"properties":{"streetName":{"type":"string","maxLength":40},"buildingNumber":{"type":"string","maxLength":10},"townName":{"type":"string","maxLength":35},"postCode":{"type":"string","maxLength":10},"country":{"description":"ISO 3166 ALPHA2 country code.","type":"string","pattern":"[A-Z]{2}","example":"SE","title":"countryCode"}},"title":"address"},"shippingAddress":{"type":"object","required":["country"],"properties":{"streetName":{"type":"string","maxLength":40},"buildingNumber":{"type":"string","maxLength":10},"townName":{"type":"string","maxLength":35},"postCode":{"type":"string","maxLength":10},"country":{"description":"ISO 3166 ALPHA2 country code.","type":"string","pattern":"[A-Z]{2}","example":"SE","title":"countryCode"}},"title":"address"}},"title":"directTransactionTDSData"},"ipspData":{"type":"object","required":["subMerchantId","name","location","country"],"properties":{"subMerchantId":{"type":"string","pattern":"^\\d{1,15}$"},"name":{"type":"string","pattern":"^[ 0-9a-zA-Z.@_-]{1,25}$"},"location":{"type":"string","pattern":"^[ 0-9a-zA-Z.@_-]{1,13}$"},"country":{"description":"ISO 3166 ALPHA2 country code.","type":"string","pattern":"[A-Z]{2}","example":"SE","title":"countryCode"}},"title":"directTransactionIPSPData"},"token":{"oneOf":[{"type":"object","properties":{"token":{"type":"object","properties":{"header":{"type":"object","properties":{"ephemeralPublicKey":{"type":"string"},"publicKeyHash":{"type":"string"},"transactionId":{"type":"string"}}},"data":{"type":"string"},"signature":{"type":"string"},"version":{"type":"string"}}}},"title":"applePayToken"},{"type":"string","description":"Value of paymentData.paymentMethodData.tokenizationData.token","title":"googlePayToken"}],"title":"token"}},"title":"initiateDirectTransactionRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"TatraPayPlus direct api transaction initiated","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}},"content":{"application/json":{"schema":{"type":"object","required":["paymentId"],"properties":{"paymentId":{"description":"Payment intent identifier","type":"string","format":"$uuid","title":"paymentId"},"redirectFormHtml":{"type":"string","description":"HTML form. Only for status TDS_AUTH_REQUIRED","maxLength":300000,"title":"directTransactionRedirectFormHtml"}},"title":"initiateDirectTransactionResponse"}}}},"400":{"description":"Bad Request","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}},"content":{"application/json":{"schema":{"type":"object","properties":{"errorCode":{"type":"string","maxLength":20,"enum":["NO_CONTRACT","ILLEGAL_ARGUMENT","TOT_AMNT_LOW","TOT_AMNT_MISMATCH","PAYMENT_NOT_FOUND","NOT_ALLOWED_OPER","DUPLICATE_CALL","PA_AMOUNT_EXCEEDED","PA_NOT_FOUND","PA_ERROR","CB_AMOUNT_EXCEEDED","CB_NOT_FOUND","CB_TOO_OLD","CB_ERROR","NO_AVAIL_PAY_METH"]},"errorDescription":{"type":"string","maxLength":1024},"availablePaymentMethods":{"type":"array","description":"Reason codes of declined methods","items":{"type":"object","required":["paymentMethod","isAvailable"],"properties":{"paymentMethod":{"description":"TatraPayPlus enumaration","type":"string","enum":["BANK_TRANSFER","CARD_PAY","PAY_LATER","DIRECT_API","QR_PAY"],"title":"paymentMethod"},"isAvailable":{"type":"boolean","description":"if true, method will be shown to user. Otherwise reasonCode will be provided"},"reasonCodeMethodAvailability":{"type":"string","description":"reason code. List of enumaration will be provided in documentation","enum":["NO_CONTRACT","NOT_FEASIBLE_CURRENCY","OUT_OF_RANGE_AMOUNT","MANDATORY_STRUCTURE_NOT_PROVIDED"]},"reasonCodeMethodAvailabilityDescription":{"type":"string","description":"reason code description"}},"title":"availablePaymentMethod"}}},"title":"400_errorBody"}}}},"401":{"description":"Unauthorized","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}},"content":{"application/json":{"schema":{"type":"object","required":["errorCode"],"properties":{"errorCode":{"type":"string","maxLength":20,"enum":["NOT_ALLOWED_OPER","TOKEN_UNKNOWN","TOKEN_INVALID","TOKEN_EXPIRED"]},"errorDescription":{"type":"string","maxLength":1024}},"title":"40x_errorBody"}}}},"403":{"description":"Forbidden","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}},"content":{"application/json":{"schema":{"type":"object","required":["errorCode"],"properties":{"errorCode":{"type":"string","maxLength":20,"enum":["NOT_ALLOWED_OPER","TOKEN_UNKNOWN","TOKEN_INVALID","TOKEN_EXPIRED"]},"errorDescription":{"type":"string","maxLength":1024}},"title":"40x_errorBody"}}}},"404":{"description":"Not found","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"405":{"description":"Method not allowed","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"406":{"description":"Not acceptable","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"408":{"description":"Request timeout","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"409":{"description":"Conflict","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"415":{"description":"Unsupported media type","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"429":{"description":"Too many requests","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"500":{"description":"Internal server error","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}},"503":{"description":"Service unavailable","headers":{"X-Request-ID":{"description":"ID of the request, unique to the call, as determined by the initiating party.","required":true,"example":"99391c7e-ad88-49ec-a2ad-99ddcb1f7721","schema":{"type":"string","format":"uuid"}}}}}}
>
  
</StatusCodes>


      